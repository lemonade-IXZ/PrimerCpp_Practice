# 说明
记录个人学习过程；

参考PrimerC++第五版及配套习题解答；使用Visual Studio 2022；

VS如何创建git仓库：https://learn.microsoft.com/zh-cn/visualstudio/version-control/git-create-repository?view=vs-2022#create-a-github-repo

readme文档基本撰写和格式语法：https://docs.github.com/zh/get-started/writing-on-github/getting-started-with-writing-and-formatting-on-github/basic-writing-and-formatting-syntax

另外一种学习之路：Microsoft C++、C 和汇编程序文档：https://learn.microsoft.com/zh-cn/cpp/?view=msvc-170

--

进度：1.4节练习/全19章；2024.3.27；

待办：

1、1.10解释++的前置与后置用法区别；

2、1.11程序里忘记写return 0会怎样；

3、1.20使用文件重定向；

待续；

# 第一章 开始

## 1.1 编写一个简单的C++程序

练习1.1： 查阅你使用的编译器的文档，确定它所使用的命名约定。编译并运行第2页的main程序。

【解答】

参考：

演练：在命令行上编译本机 C++ 程序：https://learn.microsoft.com/zh-cn/cpp/build/walkthrough-compiling-a-native-cpp-program-on-the-command-line?view=msvc-170

Windows 用户需要知道的 CMD 常用命令总结：https://zhuanlan.zhihu.com/p/67513308

--

打开“开发人员命令提示”；

切换目录，进入指定文件夹（自己专门存放代码的文件夹）；

在命令提示窗口中输入 notepad test.cpp。编写代码保存；

输入编译程序命令；

输入运行程序命令；

--

练习1.2： 改写程序，让它返回-1。返回值-1通常被当作程序错误的标识。重新编译并运行你的程序，观察你的系统如何处理main返回的错误标识。

【解答】

直观上，返回-1的程序与返回0的程序在执行效果上并无不同。但环境变量 ERRORLEVEL记录了上一个程序的返回值。因此，在控制台窗口执行
修改后的程序，接着执行echo %ERRORLEVEL%，会输出-1。

--

问题与解决：

把命令‘cl’中的L看成1导致出错；

## 1.2 初识输入输出

注意点：

1.写入endl（也即缓冲刷新操作）；

缓冲刷新操作可以保证到目前为止程序所产生的所有输出都真正写入输出流中，而不是仅停留在内存中等待写入流。

在调试时若添加打印语句，应该保证“一直”刷新流；

2.使用std::cout和std::endl而不是直接的cout和endl；

也即通过命名空间使用标准库；

命名空间可以帮助我们避免不经意的名字定义冲突，以及使用库中相同名字导致的冲突。标准库定义的所有名字都在命名空间std中。

--

练习1.3：编写程序，在标准输出上打印Hello, World。

【解答】

在VS新建控制台项目，默认模板就是打印hello world；

--

练习1.4：我们的程序使用加法运算符+来将两个数相加。编写程序使用乘法运算符*，来打印两个数的积。

【解答】

参考书上示例程序，简单修改即可；

--

练习1.5： 我们将所有输出操作放在一条很长的语句中。重写程序，将每个运算对象的打印操作放在一条独立的语句中。

【解答】

在1.4的基础上把输出语句拆分成独立的语句；

此题书本解答与1.4一致，可能是作者失误，或者是我的理解不对；

--

练习1.6： 解释下面程序片段是否合法。
```
std::cout << "The sum of " << v1;

          << " and " << v2;
          
          << " is " << v1 + v2 << std::endl;
```
如果程序是合法的，它输出什么？如果程序不合法，原因何在？ 应该如何修正？

【解答】

显然不合法；

因为分号的存在，可以看成三条语句，却只在第一条语句里写了"std::cout"；

在IDE中剩下两条语句的"<<"下显示错误，说明“应输入表达式”；

修正

法一：

把前两个分号去掉使之成为一个整体；

法二：

在后两条语句前补充"std::cout"；

## 1.3 注释简介

注意：注释界定符 (/**/) 不能嵌套；

我们通常需要在调试期间注释掉一些代码。由于这些代码可能包含界定符对形式的注释，因此可能导致注释嵌套错误，因此最好的方式是用单行注释方式注释掉代码段的每一行。

--

练习1.7： 编译一个包含不正确的嵌套注释的程序，观察编译器返回的错误信息。

【解答】

参照书上的示例程序编写，在编写过程中就被IDE指出错误；

原因是编译器将第一个“*/”看作注释结束，之后的中文文字看作下一条语句，从而给出非法字符的错误信息。

--

练习1.8：指出下列哪些输出语句是合法的（如果有的话）：
```
std::cout << "/*";
std::cout << "*/";
std::cout << /* "*/" */ ;
std::cout << /* "*/" /* "/*" */;
```
预测编译这些语句会产生什么样的结果，实际编译这些语句来验证你的答案（编写一个小程序，每次将上述一条语句作为其主体），改正每个编译错误。

【解答】

第1、2、4条语句合法；

第3条语句出现了注释嵌套错误；

修改为`std::cout << /* "*/ " */ ";`

第四条看起来很混乱，但它是正确的。第一个双引号被注释掉了，第四个双引号也被注释掉了，第二个双引号和第三个双引号之间的“ /* ”被认为是字符串的文字内容。但是，这样的程序风格显然是不好的。

## 1.4 控制流 

### 1.4.1 while 语句 

练习1.9： 编写程序，使用while循环将50到100的整数相加。

【解答】

在书本示例程序上稍作修改即可；计算结果为3825；

--

练习1.10： 除了++运算符将运算对象的值增加1以外，还有一个递减运算符（--）实现将值减少1。编写程序，使用递减运算符在循环中按递减序打印出10到0之间的整数。

【解答】

结构比较简单，可参考书上示例程序；

在调试过程中发现缓冲刷新操作可以让输出换行；

--

练习1.11： 编写程序，提示用户输入两个整数，打印出这两个整数所指定的范围内的所有整数。

【解答】

思路：分三种情况判断，大于小于和等于，分别编写对应情况即可；

要注意循环条件的控制，避免输出限定范围以外的整数；

忘记写return 0了；

我的思路和书本解答相似，在语法结构上差了一点；

### 1.4.2 for 语句

练习1.12： 下面的for循环完成了什么功能？sum的终值是多少？
```
int sum = 0;
for (int i = -100; i <= 100; ++i)
    sum += i;
```

【解答】

计算从-100加到100的和；sum的终值为0；

--

练习1.13： 使用for循环重做1.4.1节中的所有练习（第11页）。

【解答】

使用for循环时，若变量已被定义，可以省略初始化语句只打分号；

--

练习1.14： 对比for循环和while循环，两种形式的优缺点各是什么？

【解答】

在循环次数已知的情况下，for循环的形式显然更为简洁。 

而循环次数无法预知时，用while循环实现更适合。
用特定条件控制循环是否执行，循环体中执行的语句可能导致循环判定条件发生变化。

--

练习 1.15： 编写程序，包含第14页“再探编译”中讨论的常见错误。熟悉编译器生成的错误信息。

【解答】

注意点：

按照报告的顺序来逐个修正错误；（单个错误常常具有传递效应）

每修正一个错误后就立即重新编译代码；即“编辑-编译-调试”周期；

--

对于复杂程序中的错误，编译器给出的错误信息很可能无法对应到真正的错误位置并给出准确的错误原因。
这是很正常的，而且，不同的编译器对同一个程序给出的错误信息有可能是有很大差别的。
一方面是因为如前所述，很多时候并不存在“唯一正确”的错误原因，编译器（甚至我们人类也是）只能给出它认为最有可能的错误原因；
另一方面，不同编译器对同样的错误原因也可能有自己不同的解释方式。

### 1.4.3 读取数量不定的输入数据

要点：

从键盘输入文件结束符

当从键盘向程序输入数据时，对于如何指出文件结束，不同操作系统有不同的约定。
在Windows系统中，输入文件结束符的方法是敲Ctrl+Z（按住Ctrl键的同时按Z键），然后按Enter或Return键。
在UNIX系统中，包括MacOSX系统中，文件结束符输入是用Ctrl+D。

--

练习1.16： 编写程序，从cin读取一组数，输出其和。

【解答】

可以在输出中提示“按Ctrl+Z结束输入”；

书本解答特地用for循环来表示对于循环次数无法预知的情况，for循环比while循环稍累赘一些。

### 1.4.3 if 语句

练习1.17： 如果输入的所有值都是相等的，本节的程序会输出什么？如果没有重复值，输出又会是怎样的？

【解答】

若所有值都相等：输出这个值出现的总次数；

若没有重复值：输出“每个值出现一次”；

和书本解答相比我的解答过于简陋；

--

练习1.18： 编译并运行本节的程序，给它输入全都相等的值。再次运行程序，输入没有重复的值。

【解答】

要注意避免误用“=”（赋值）和“==”（相等判断）；

不要忘了用Ctrl+Z表示输入结束。

--

练习1.19： 修改你为1.4.1节练习1.10（第11页）所编写的程序（打印一个范围内的数），
使其能处理用户输入的第一个数比第二个数小的情况。

【解答】

应该是练习1.11，我的1.11解答本来就考虑了此情况；
书本解答也与我想法一致；

## 1.5 类简介 

### 1.5.1 Sales_itme 类

关键概念：类定义了行为；

包含来自标准库的头文件时，应该用尖括号（<>）包围头文件名；

对于不属于标准库的头文件，则用双引号（""）包围；

使用文件重定向（使测试程序更便捷）：$ addItems <infile >outfile

--

练习1.20： 在网站http://www.informit.com/title/0321714113上，第1章的代码目录中包含了头文件Sales_item.h。
将它拷贝到你自己的工作目录中。用它编写一个程序，读取一组书籍销售记录，将每条记录打印到标准输出上。

【解答】

头文件：https://github.com/amidvidy/learning/blob/master/cpp-primer/Sales_item.h

参考练习1.16 读取一组数量不定的输入数据；

编写的数据：

7115279462 3 8.4

7121155354 5 7.2

7111539419 2 6.3

7121123320 4 2.5

7560926991 7 2.1

尝试使用文件重定向，暂未成功；

遇到的问题：不知道VS怎么生成exe文件；

to 练习1.22

待续；
